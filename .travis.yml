branches:
  only:
  - develop
  - master
  - $EPIC_BRANCH_PATTERN
  - $FIX_BRANCH_PATTERN
  - $FEATURE_BRANCH_PATTERN
  - $RC_BRANCH_PATTERN
  - $TAG_PATTERN

jobs:
  include:
  - stage: Android
    language: node_js
    node_js:
    - "8"
    os: linux
    jdk: oraclejdk8
    sudo: required
    script:
    - echo "Changes in this Build - $TRAVIS_BUILD_NUMBER"
    - export CHANGELOG=`git --no-pager log $TRAVIS_COMMIT_RANGE --pretty=format:"%h - %s%n"`
    - echo $CHANGELOG
  - stage: Android
    language: node_js
    node_js:
    - "8"
    os: linux
    jdk: oraclejdk8
    sudo: required
    script:
    - if [ $TRAVIS_BRANCH == "develop" ] || [ $TRAVIS_BRANCH == "master" ] || [[ $TRAVIS_BRANCH =~ $RC_BRANCH_PATTERN ]];
      then
        echo "1";
      else
        echo "2";
      fi